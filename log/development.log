  [1m[35m (3.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (106.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (115.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200302224625)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302224625"]]
  [1m[35m (124.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRestaurants (20200302224826)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "schedule" varchar, "number_of_tables" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302224826"]]
  [1m[35m (114.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTables (20200302224938)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "tables" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302224938"]]
  [1m[35m (111.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateReserves (20200302225108)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "reserves" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "starts_at" datetime, "ends_at" datetime, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302225108"]]
  [1m[35m (124.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-03-02 22:52:15.463564"], ["updated_at", "2020-03-02 22:52:15.463564"]]
  [1m[35m (100.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddRestaurantToTable (20200302225511)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "tables" ADD "restaurant_id" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_tables_on_restaurant_id" ON "tables" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "atables" ("id" integer NOT NULL PRIMARY KEY, "name" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "restaurant_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_atables_on_restaurant_id" ON "atables" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "atables" ("id","name","created_at","updated_at","restaurant_id")
                     SELECT "id","name","created_at","updated_at","restaurant_id" FROM "tables"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "tables"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "tables" ("id" integer NOT NULL PRIMARY KEY, "name" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "restaurant_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_0700cfe41e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_tables_on_restaurant_id" ON "tables" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("id","name","created_at","updated_at","restaurant_id")
                     SELECT "id","name","created_at","updated_at","restaurant_id" FROM "atables"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE "atables"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302225511"]]
  [1m[35m (119.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddTableToReserve (20200302225637)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "reserves" ADD "user_id" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_reserves_on_user_id" ON "reserves" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "areserves" ("id" integer NOT NULL PRIMARY KEY, "starts_at" datetime DEFAULT NULL, "ends_at" datetime DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_areserves_on_user_id" ON "areserves" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "areserves" ("id","starts_at","ends_at","created_at","updated_at","user_id")
                     SELECT "id","starts_at","ends_at","created_at","updated_at","user_id" FROM "reserves"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "reserves"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "reserves" ("id" integer NOT NULL PRIMARY KEY, "starts_at" datetime DEFAULT NULL, "ends_at" datetime DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2a3188508f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_reserves_on_user_id" ON "reserves" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "reserves" ("id","starts_at","ends_at","created_at","updated_at","user_id")
                     SELECT "id","starts_at","ends_at","created_at","updated_at","user_id" FROM "areserves"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "areserves"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302225637"]]
  [1m[35m (301.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (109.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (102.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200302224625)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302224625"]]
  [1m[35m (120.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateRestaurants (20200302224826)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "restaurants" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "schedule" varchar, "number_of_tables" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302224826"]]
  [1m[35m (113.4ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateTables (20200302224938)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "tables" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302224938"]]
  [1m[35m (108.0ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateReserves (20200302225108)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "reserves" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "starts_at" datetime, "ends_at" datetime, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302225108"]]
  [1m[35m (105.7ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddRestaurantToTable (20200302225511)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "tables" ADD "restaurant_id" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_tables_on_restaurant_id" ON "tables" ("restaurant_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "atables" ("id" integer NOT NULL PRIMARY KEY, "name" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "restaurant_id" integer DEFAULT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "tindex_atables_on_restaurant_id" ON "atables" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "atables" ("id","name","created_at","updated_at","restaurant_id")
                     SELECT "id","name","created_at","updated_at","restaurant_id" FROM "tables"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "tables"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "tables" ("id" integer NOT NULL PRIMARY KEY, "name" varchar DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "restaurant_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_0700cfe41e"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_tables_on_restaurant_id" ON "tables" ("restaurant_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "tables" ("id","name","created_at","updated_at","restaurant_id")
                     SELECT "id","name","created_at","updated_at","restaurant_id" FROM "atables"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "atables"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302225511"]]
  [1m[35m (119.6ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddTableToReserve (20200302225637)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "reserves" ADD "table_id" integer[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_reserves_on_table_id" ON "reserves" ("table_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "areserves" ("id" integer NOT NULL PRIMARY KEY, "starts_at" datetime DEFAULT NULL, "ends_at" datetime DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "table_id" integer DEFAULT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_areserves_on_table_id" ON "areserves" ("table_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "areserves" ("id","starts_at","ends_at","created_at","updated_at","table_id")
                     SELECT "id","starts_at","ends_at","created_at","updated_at","table_id" FROM "reserves"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "reserves"[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "reserves" ("id" integer NOT NULL PRIMARY KEY, "starts_at" datetime DEFAULT NULL, "ends_at" datetime DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "table_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_fd773f2e70"
FOREIGN KEY ("table_id")
  REFERENCES "tables" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_reserves_on_table_id" ON "reserves" ("table_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "reserves" ("id","starts_at","ends_at","created_at","updated_at","table_id")
                     SELECT "id","starts_at","ends_at","created_at","updated_at","table_id" FROM "areserves"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "areserves"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302225637"]]
  [1m[35m (124.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-03-02 22:59:16.195755"], ["updated_at", "2020-03-02 22:59:16.195755"]]
  [1m[35m (95.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUserToReserve (20200302225956)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "reserves" ADD "user_id" integer[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX "index_reserves_on_user_id" ON "reserves" ("user_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TEMPORARY TABLE "areserves" ("id" integer NOT NULL PRIMARY KEY, "starts_at" datetime DEFAULT NULL, "ends_at" datetime DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "table_id" integer DEFAULT NULL, "user_id" integer DEFAULT NULL)[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE  INDEX "tindex_areserves_on_user_id" ON "areserves" ("user_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE  INDEX "tindex_areserves_on_table_id" ON "areserves" ("table_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "areserves" ("id","starts_at","ends_at","created_at","updated_at","table_id","user_id")
                     SELECT "id","starts_at","ends_at","created_at","updated_at","table_id","user_id" FROM "reserves"[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE "reserves"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "reserves" ("id" integer NOT NULL PRIMARY KEY, "starts_at" datetime DEFAULT NULL, "ends_at" datetime DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "table_id" integer DEFAULT NULL, "user_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_fd773f2e70"
FOREIGN KEY ("table_id")
  REFERENCES "tables" ("id")
, CONSTRAINT "fk_rails_2a3188508f"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_reserves_on_table_id" ON "reserves" ("table_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_reserves_on_user_id" ON "reserves" ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "reserves" ("id","starts_at","ends_at","created_at","updated_at","table_id","user_id")
                     SELECT "id","starts_at","ends_at","created_at","updated_at","table_id","user_id" FROM "areserves"[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE "areserves"[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200302225956"]]
  [1m[35m (1377.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT ?[0m  [["LIMIT", 11]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "brain@mail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "brain"], ["email", "brain@mail.com"], ["created_at", "2020-03-02 23:21:58.197679"], ["updated_at", "2020-03-02 23:21:58.197679"]]
  [1m[35m (77.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRestaurant Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "restaurants" WHERE "restaurants"."name" = ? LIMIT ?[0m  [["name", "vega"], ["LIMIT", 1]]
  [1m[36mRestaurant Create (0.5ms)[0m  [1m[32mINSERT INTO "restaurants" ("name", "schedule", "number_of_tables", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "vega"], ["schedule", "10:00/00:00"], ["number_of_tables", 10], ["created_at", "2020-03-02 23:23:44.629082"], ["updated_at", "2020-03-02 23:23:44.629082"]]
  [1m[35m (86.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRestaurant Load (0.3ms)[0m  [1m[34mSELECT "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mTable Create (0.6ms)[0m  [1m[32mINSERT INTO "tables" ("name", "created_at", "updated_at", "restaurant_id") VALUES (?, ?, ?, ?)[0m  [["name", "1"], ["created_at", "2020-03-02 23:24:52.281245"], ["updated_at", "2020-03-02 23:24:52.281245"], ["restaurant_id", 1]]
  [1m[35m (99.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReserve Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reserves" WHERE ((reserves.ends_at IS NULL OR reserves.ends_at > '2020-03-02 10:00:00') AND (reserves.starts_at IS NULL OR reserves.starts_at < '2020-03-02 10:30:00')) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mReserve Create (0.6ms)[0m  [1m[32mINSERT INTO "reserves" ("starts_at", "ends_at", "created_at", "updated_at", "table_id", "user_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["starts_at", "2020-03-02 10:00:00"], ["ends_at", "2020-03-02 10:30:00"], ["created_at", "2020-03-02 23:26:26.983878"], ["updated_at", "2020-03-02 23:26:26.983878"], ["table_id", 1], ["user_id", 1]]
  [1m[35m (86.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReserve Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reserves" WHERE ((reserves.ends_at IS NULL OR reserves.ends_at > '2020-03-02 10:00:00') AND (reserves.starts_at IS NULL OR reserves.starts_at < '2020-03-02 10:30:00')) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTable Load (0.3ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReserve Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reserves" WHERE ((reserves.ends_at IS NULL OR reserves.ends_at > '2020-03-02 10:30:00') AND (reserves.starts_at IS NULL OR reserves.starts_at < '2020-03-02 11:00:00')) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mReserve Create (0.6ms)[0m  [1m[32mINSERT INTO "reserves" ("starts_at", "ends_at", "created_at", "updated_at", "table_id", "user_id") VALUES (?, ?, ?, ?, ?, ?)[0m  [["starts_at", "2020-03-02 10:30:00"], ["ends_at", "2020-03-02 11:00:00"], ["created_at", "2020-03-02 23:26:49.979455"], ["updated_at", "2020-03-02 23:26:49.979455"], ["table_id", 1], ["user_id", 1]]
  [1m[35m (101.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReserve Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "reserves" WHERE ((reserves.ends_at IS NULL OR reserves.ends_at >= '2020-03-02 11:00:00') AND (reserves.starts_at IS NULL OR reserves.starts_at <= '2020-03-02 12:30:00')) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mReserve Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reserves" WHERE ((reserves.ends_at IS NULL OR reserves.ends_at > '2020-03-02 11:30:00') AND (reserves.starts_at IS NULL OR reserves.starts_at < '2020-03-02 12:00:00')) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReserve Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reserves" WHERE ((reserves.ends_at IS NULL OR reserves.ends_at >= '2020-03-02 11:00:00') AND (reserves.starts_at IS NULL OR reserves.starts_at <= '2020-03-02 12:30:00')) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mReserve Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reserves" WHERE ((reserves.ends_at IS NULL OR reserves.ends_at > '2020-03-02 11:30:00') AND (reserves.starts_at IS NULL OR reserves.starts_at < '2020-03-02 12:00:00')) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTable Load (12.0ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (15.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReserve Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "reserves" WHERE ((reserves.ends_at IS NULL OR reserves.ends_at > '2020-03-03 11:30:00') AND (reserves.starts_at IS NULL OR reserves.starts_at < '2020-03-03 12:00:00')) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReserve Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reserves" WHERE ((reserves.ends_at IS NULL OR reserves.ends_at > '2020-03-03 11:30:00') AND (reserves.starts_at IS NULL OR reserves.starts_at < '2020-03-03 12:00:00')) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReserve Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reserves" WHERE ((reserves.ends_at IS NULL OR reserves.ends_at > '2020-03-03 11:30:00') AND (reserves.starts_at IS NULL OR reserves.starts_at < '2020-03-03 12:00:00')) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTable Load (0.4ms)[0m  [1m[34mSELECT "tables".* FROM "tables" WHERE "tables"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mReserve Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "reserves" WHERE ((reserves.ends_at IS NULL OR reserves.ends_at > '2020-03-03 11:30:00') AND (reserves.starts_at IS NULL OR reserves.starts_at < '2020-03-03 12:00:00')) LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
